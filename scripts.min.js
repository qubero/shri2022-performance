(()=>{function e(e,t,a){for(let i=0;i<e.length;i++)e[i].addEventListener(t,a)}function t(t){let a=t.querySelector(".section__tab_active").dataset.id,i=t.querySelectorAll(".section__tab"),n=Array.from(i).map(e=>e.dataset.id),r=t.querySelector(".section__select");function l(e){let i=t.querySelector(`.section__tab[data-id=${e}]`),n=t.querySelector(`.section__panel[data-id=${e}]`),l=t.querySelector(".section__tab_active"),s=t.querySelector(".section__panel:not(.section__panel_hidden)");a=e,l.classList.remove("section__tab_active"),l.setAttribute("aria-selected","false"),l.removeAttribute("tabindex"),i.classList.add("section__tab_active"),i.setAttribute("aria-selected","true"),i.setAttribute("tabindex","0"),i.focus({preventScroll:!0}),s.classList.add("section__panel_hidden"),s.setAttribute("aria-hidden","true"),n.classList.remove("section__panel_hidden"),n.setAttribute("aria-hidden","false"),r.value=e}r.onchange=()=>l(r.value),e(i,"click",e=>{let t=e.target.dataset.id;l(t)}),e(i,"keydown",e=>{e.preventDefault();let{which:t}=e;if(!t||t>39||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)return;let i=n.indexOf(a),r=n.length;37===e.which?--i:39===e.which&&++i,i>=r||36===t?i=0:(i<0||35===t)&&(i=r-1),l(n[i])})}function a(){let e=!1,t=document.querySelector(".header__menu"),a=document.querySelector(".header__links");t.onclick=()=>{e=!e,t.setAttribute("aria-expanded",e?"true":"false"),t.querySelector(".header__menu-text").textContent=e?"Закрыть меню":"Открыть меню",a.classList.toggle("header__links_opened",e),a.classList.add("header__links-toggled")}}document.addEventListener("DOMContentLoaded",()=>{for(let e of document.querySelectorAll(".main__devices"))t(e);a()})})();
